<!-- <div id="inBody" *ngIf="permissionsList.includes('View')" [dir]="direction">
  <div class="row">
    <div class="col-md-12">
      <div class="row">
        <div class="col-md-4">
          <div class="udcBtns">
            <ul>
              <li><a (click)="navigateClick()"> <i class="material-icons align-middle"> description
                  </i>{{'Create New Order' |translate}}</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div id="scrolTable" class="wtDataTables">
            <table id="example" class="table table-striped" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
              <thead>
                <tr>
                  <th scope="col">{{'Transaction ID' |translate}}</th>
                  <th scope="col">{{'Source WareHouse' |translate}}</th>
                  <th scope="col">{{'Destination Warehouse' |translate}}</th>
                  <th scope="col">{{'Product IDName' |translate}}</th>
                  <th scope="col">{{'Transfer Quantity' |translate}}</th>
                  <th scope="col">{{'Created On' |translate}}</th>
                  <th scope="col">{{'Status' |translate}}</th>
                  <th scope="col">{{'Action' |translate}}</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let detail of transfersData; let i = index;">
                  <th><span [hidden]="!detail.isShow" (click)="navigateClick(detail._id)"
                      style="cursor:pointer;">{{detail.wareHouseTransferTransactionID}}</span></th>
                  <td><span [hidden]="!detail.isShow"  (click)="navigateClick(detail._id)">{{detail.sourceWareHouseInfo.wareHouseIDName}}</span></td>
                  <td><span [hidden]="!detail.isShow">{{detail.destinationWareHouseInfo.wareHouseIDName}}</span></td>
                  <td>{{detail.productMasterInfo.productIDName}}</td>
                  <td>{{detail.transferQuantity}}</td>
                  <td>{{detail.requestedDate | date: 'dd/MM/yyyy'}}</td>
                  <td><span [hidden]="!detail.isShow">{{detail.status}}</span></td>
                  <td><span class="btn btn-pink btn-sm" [hidden]="!detail.isShow || detail.status!='Created'">
                      <i _ngcontent-lty-c40="" class="fa fa-trash btn-blue" (click)="delete(detail._id)"></i>
                    </span>
                    <span _ngcontent-lty-c40="" class="btn btn-pink btn-sm" *ngIf="detail.status=='Confirmed'"
                    class="text-success">Order Confirmed</span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<app-delete-popup [getInfo]="deleteInfo" (sendConfirmation)="getConfirmation($event)"></app-delete-popup>
 -->

<div id="inBody" *ngIf="permissionsList.includes('View')" [dir]="direction">
  <div class="row">
    <div class="col-md-12">
      <div class="row">
        <div class="col-md-4">
          <div class="udcBtns">
            <ul>
              <li><a (click)="navigateClick()"> <i class="material-icons align-middle"> description
                  </i>{{'Create New Order' |translate}}</a>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-12">
          <div class="top-input-label">
            <div class="row">
              <div class="col-md-3">
                <div class="form-group row">
                  <label class="col-sm-6 col-form-label">{{'Source Warehouse' |translate}}</label>
                  <div class="col-sm-6">
                    <select class="form-control" [(ngModel)]="reqObj.sourceWareHouseIDName" name="sourceWareHouseIDName"
                      (change)="disableDestination($event.target.value)" [disabled]="makesourceDisable">
                      <option *ngFor="let data of sourceWareHouses" [value]="data.wareHouseIDName">
                        {{data.wareHouseIDName}}
                      </option>
                    </select>
                  </div>
                </div>
                <div class="form-group row mt-1">
                  <label class="col-sm-6 col-form-label">{{'Destination Warehouse' |translate}}</label>
                  <div class="col-sm-6">
                    <select class="form-control" [(ngModel)]="reqObj.destinationWareHouseIDName"
                      name="destinationWareHouseIDName" (change)="disableSource($event.target.value)"
                      [disabled]="makeDestinationDisable">
                      <option *ngFor="let data of sourceWareHouses " [value]="data.wareHouseIDName">
                        {{data.wareHouseIDName}}
                      </option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group row">
                  <label class="col-sm-6 col-form-label">Created From </label>
                  <div class="col-sm-6">
                    <input class="form-control col-form-label-sm" [(ngModel)]="reqObj.createdDateFrom"
                      [disabled]="makeCreatedDateDisable"
                      (change)="forValidDateDifferencecreatedDateFrom($event.target.value)" name="createdDateFrom"
                      type="date">
                  </div>
                </div>
                <div class="form-group row mt-1">
                  <label class="col-sm-6 col-form-label">Created To </label>
                  <div class="col-sm-6">
                    <input class="form-control col-form-label-sm" [(ngModel)]="reqObj.createdDateTo"
                      name="createdDateTo" type="date" [disabled]="makeCreatedDateDisable"
                      (change)="forValidDateDifferencecreatedDateTo($event.target.value)">
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group row">
                  <label class="col-sm-6 col-form-label">Expected Delivery From</label>
                  <div class="col-sm-6"><input class="form-control " [(ngModel)]="reqObj.expectedDeliveryDateFrom"
                      name="expectedDeliveryDateFrom" type="date" [disabled]="makeExpectedDateDisable"
                      (change)="forValidDateDifferenceexpectedDeliveryDateFrom($event.target.value)">
                  </div>
                </div>
                <div class="form-group row mt-1">
                  <label class="col-sm-6 col-form-label">Expected Delivery To </label>
                  <div class="col-sm-6"><input class="form-control" [(ngModel)]="reqObj.expectedDeliveryDateTo"
                      name="expectedDeliveryDateTo" type="date" [disabled]="makeExpectedDateDisable"
                      (change)="forValidDateDifferenceexpectedDeliveryDateTo($event.target.value)">
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <!-- <div class="form-group row">
                  <label class="col-sm-4 col-form-label">{{'Status' |translate}}</label>
                  <div class="col-sm-8"> 
                    <select class="form-control" [(ngModel)]="reqObj.status" name="status">
                      <option value="Draft">Draft</option>
                      <option value="Confirmed">Confirmed</option>
                      <option value="Approved">Approved</option>
                      <option value="Picked">Picked</option>
                      <option value="InTransit">InTransit</option>
                      <option value="Completed">Completed</option>
                    </select>
                  </div>
                </div> -->
                <div class="form-group row mt-1">
                  <label class="col-sm-2"></label>
                  <div class="col-sm-8 text-center mt-3">
                    <input (click)="selectParedDates()" class="btn btn-green" style="margin-right: 5px;" type="button"
                      value="Filter">
                    <input class="btn btn-white" type="reset" (click)="backtoNormal()" value="Reset">
                  </div>
                </div>

              </div>
            </div>
            <div class="row">
              <div class="col-md-7">
                <div class="form-group row" style="margin-left: -16px;">
                  <label class="col-sm-3 col-form-label">Status</label>
                  <div class="col-sm-9 mt-1" style="margin-left: -31px;">
                    <label class="radio-inline">
                      <input type="radio" value="All" class="m-1" [(ngModel)]="reqObj.status" name="status"
                        [ngModelOptions]="{standalone: true}">
                      All
                    </label>
                    <label class="radio-inline" style="color:grey">
                      <input type="radio" value="Draft" class="m-1" [(ngModel)]="reqObj.status" name="status"
                        [ngModelOptions]="{standalone: true}">
                      Draft
                    </label>
                    <label class="radio-inline" class="ourCommonColor">
                      <input type="radio" value="Confirmed" class="m-1" [(ngModel)]="reqObj.status" name="status"
                        [ngModelOptions]="{standalone: true}">
                      Confirmed
                    </label>
                    <label class="radio-inline" style="color:blue">
                      <input type="radio" value="Approved" class="m-1" [(ngModel)]="reqObj.status" name="status"
                        [ngModelOptions]="{standalone: true}">
                      Approved
                    </label>
                    <label class="radio-inline" style="color:darkcyan">
                      <input type="radio" value="Picked" class="m-1" [(ngModel)]="reqObj.status" name="status"
                        [ngModelOptions]="{standalone: true}">
                      Picked
                    </label>
                    <label class="radio-inline" style="color:orange">
                      <input type="radio" value="InTransit" class="m-1" [(ngModel)]="reqObj.status" name="status"
                        [ngModelOptions]="{standalone: true}">
                      InTransit
                    </label>
                    <label class="radio-inline" style="color:green">
                      <input type="radio" value="Completed" class="m-1" [(ngModel)]="reqObj.status" name="status"
                        [ngModelOptions]="{standalone: true}">
                      Completed
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="wmsDataTables" style="min-height:auto;overflow-y: hidden;">
            <div class="row">
              <div class="col-md-0.5 pr-0">
                <label>Show</label>
              </div>
             <div class="col-md-1"><select [(ngModel)]="itemsPerPageHeader"
                (change)="fetchAllDHeader(pageHeader=1,$event)" class="form-control" 
                [ngModelOptions]="{standalone: true}">
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="25">25</option>
                <option value="50">50</option>
              </select></div>
            <!--  <div class="col-md-1"><select [(ngModel)]="itemsPerPageForHeader"
                  (change)="headerGet(pageHeader)" class="form-control" [ngModelOptions]="{standalone: true}">
                  <option>5</option>
                  <option>10</option>
                  <option>25</option>
                  <option>50</option>
                </select></div> -->
              <div class="col-md-0.5 pl-0"><label>Entries</label>
              </div>
              <div class="col-md-9"></div>
              <div class="col-md-1">
                <input type="text" [(ngModel)]="searchKeyForHeader" placeholder="Search..." [ngModelOptions]="{standalone: true}"
                  (keyup)="headerGet(pageHeader=1)">
              </div>
            </div>
            <table id="example" class="table table-striped">
              <thead>
                <tr style="background-color:'blueviolet'">
                  <th *ngFor="let key of tableHeadings">{{key |translate}} <i class="fa fa-sort-asc" style="position: relative;left: -7px;" 
                      (click)="setDirection('ASC',key,'header')" aria-hidden="true"></i> <i class="fa fa-sort-desc"
                       style="position: relative;
                      left: -7px;" aria-hidden="true" (click)="setDirection('DESC',key,'header')"></i></th>
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="let i=index;let detail of headerDetails
                  | paginate: {id:'foo',itemsPerPage: itemsPerPageHeader,currentPage: pageHeader,totalItems: totalItemsForHeader}">
                  <th style="cursor: pointer" (click)="navigateClick(detail._id,detail)">{{((pageHeader-1) *
                    itemsPerPageHeader)+i+1}}</th>
                  <!-- <td>{{detail.createdBy}} {{detail.approvedBy}} {{detail.rejectedBy}} {{detail.completedBy}}</td> -->
                  <td><span>{{detail.fullWareHouseTransferTransactionID}}</span></td>
                  <td>{{detail.fullWmsoNumber}} </td>
                  <td>{{detail.destinationWareHouseInfo.wareHouseIDName}}</td>
                  <td>{{detail.createdDate | date: 'dd/MM/yyyy hh:mm:ss'}}</td>
                  <!-- <td>{{detail.createdBy}}</td>
                  <td class="text-center">{{detail.createdDate | date: 'dd/MM/yyyy'}}</td>
                  <td class="text-center">{{detail.confirmedBy}}{{detail.rejectedBy}}</td>
                  <td class="text-center">{{detail.confirmedDate | date: 'dd/MM/yyyy'}}{{detail.rejectedDate | date: 'dd/MM/yyyy'}}</td> -->
                  <td class="text-center">{{detail.deliveryExpDate | date: 'dd/MM/yyyy hh:mm:ss'}}</td>
                  <td class="text-right">{{detail.totalNetAmount | decimalFilter}}{{detail.currency}}</td>
                  <td class="text-center">
                    <div class="row">
                      <div class="col-sm-9" *ngIf="detail.isViewToggle == false">
                        <span [hidden]="detail.statusStages[detail.statusStages.length]">
                          <p [ngStyle]="{'color':(detail.statusStages[detail.statusStages.length-1].status=='Draft') ?'grey':
                          (detail.statusStages[detail.statusStages.length-1].status=='Approved') ?'blue':
                          (detail.statusStages[detail.statusStages.length-1].status=='Picked') ?'darkcyan':
                          (detail.statusStages[detail.statusStages.length-1].status=='InTransit') ?'orange':
                          (detail.statusStages[detail.statusStages.length-1].status=='Completed')?'green':''}">
                            {{detail.statusStages[detail.statusStages.length-1].status}} </p>
                        </span>
                      </div>
                      <div class="col-sm-3" *ngIf="detail.isViewToggle == false">
                        <i class="fa fa-arrow-down" aria-hidden="true"
                          style="font-size:12px;padding:5px;border-radius:50%;height:25px;cursor: pointer;"
                          (click)="changeDownToggle(detail)">
                        </i>
                      </div>
                   
                      <div class="col-sm-9" *ngIf="detail.isViewToggle == true">
                        <span>
                          <p *ngFor="let start of detail.statusStages">
                            {{start.status}} {{start.statusSubmittedBy}}
                            {{start.statusSubmittedDate |
                            date:'dd/MM/yyyy HH:mm:ss'}}<br></p> 
                        </span>
                      </div>
                      <div class="col-sm-3" *ngIf="detail.isViewToggle == true">
                        <i class="fa fa-arrow-up" aria-hidden="true" *ngIf="detail.isViewToggle == true"
                          style="font-size:12px;padding:5px;border-radius:50%;height:25px;cursor:pointer;"
                          (click)="changeUpToggle(detail)">
                        </i>
                      </div>
                    </div>
                    <i _ngcontent-lty-c40=""
                      *ngIf="reqObj.status == 'Approved' && detail.sourceWareHouseInfo && detail.sourceWareHouseInfo.wareHouseIDName == formObj.wareHouseIDName"
                      class="fa fa-shopping-cart btn-blue" (click)="navigateToSch(detail)"></i>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="row mt-2">
              <div class="col-md-12" style="text-align: end;">
                <pagination-controls class="pagi" id="foo" (pageChange)="headerGet((pageHeader = $event))">
                </pagination-controls>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="wmsDataTables" style="min-height:auto;overflow-y: hidden;">
            <div class="row">
              <div class="col-md-0.5 pr-0">
                <label>Show</label>
              </div>
             <div class="col-md-1"><select [(ngModel)]="itemsPerPage"
                  (change)="fetchAllD(page=1,$event)" class="form-control" [ngModelOptions]="{standalone: true}">
                  <option>5</option>
                  <option>10</option>
                  <option>25</option>
                  <option>50</option>
                </select></div>
              <div class="col-md-0.5 pl-0"><label>Entries</label>
              </div>
              <div class="col-md-9"></div>
              <div class="col-md-1">
                <input type="text" [(ngModel)]="searchKey" placeholder="Search..." [ngModelOptions]="{standalone: true}"
                  (keyup)="this.get(page=1, itemsPerPage);">
              </div>
            </div>
            <table id="example" class="table table-striped">
              <thead>
                <tr style="background-color:'blueviolet'">
                  <th *ngFor="let key of tableLinesData">{{key |translate}} <i class="fa fa-sort-asc" style="position: relative;left: -7px;" 
                    (click)="setDirection1('ASC',key)" aria-hidden="true"></i> <i class="fa fa-sort-desc"
                     style="position: relative;
                    left: -7px;" aria-hidden="true" (click)="setDirection1('DESC',key)"></i></th>
                  <!-- <th scope="col">{{'Transaction ID' |translate}}</th>
                  <th scope="col">{{'Order Number' |translate}}</th>
                  <th scope="col">{{'Source Warehouse' |translate}}</th>
                  <th scope="col">{{'Product ID' |translate}}</th>
                  <th scope="col">{{'Product Name' |translate}}</th>
                  <th scope="col">{{'Product Specification' |translate}}</th>
                  <th scope="col">{{'Brand Name' |translate}}</th>
                  <th scope="col">{{'UOM' |translate}}</th>
                  <th scope="col">{{'Customer Order Quantity' |translate}}</th>
                  <th scope="col">{{'Dispatch Quantity' |translate}}</th>
                  <th scope="col">{{'Expected Delivery Date' |translate}}</th>
                  <th scope="col">{{'Created By' |translate}}</th> -->
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="let i=index;let detail of wareHouseTransferResponceList| paginate: {itemsPerPage: itemsPerPage,currentPage: page,totalItems: totalItems}">
                  <td *ngIf="detail.productImageResource">
                    <div class="tooltip-container">
                      <img [src]="'data:image/jpg;base64,' + detail.productImageResource" class="pImageIcon"
                        alt="No Preview available" (mouseover)="showTooltip = true" (mouseleave)="showTooltip = false">
                      <span *ngIf="showTooltip" class="tooltip-text">{{detail.productMasterInfo.productName}}</span>
                    </div>
                  </td>
                  <td *ngIf="!detail.productImageResource">
                    <div class="noImageIcon">
                      <p class="noImageIconText">
                        {{configService.getImageShortCut(detail.productMasterInfo.productName)}}</p>
                    </div>
                  </td>
                  <td>{{detail.fullWareHouseTransferTransactionID}}</td>
                  <td>{{detail.fullWmsoNumber}} </td>
                  <td>{{detail.sourceWareHouseInfo.wareHouseIDName}}</td>
                  <td>{{detail.productMasterInfo?.productID}}</td>
                  <td>{{detail.productMasterInfo?.productName}}</td>
                  <td>{{detail.productDescription}}</td>
                  <td>{{detail.brandName}}</td>
                  <td class="text-center">{{detail.shipmentUnit}}</td>
                  <td class="text-right">{{detail.customerOrderQuantity | decimalFilter}}</td>
                  <td class="text-right">{{detail.orderQuantity | decimalFilter}}</td>
                  <td class="text-center">{{detail.expectedDeliveryDate | date: 'dd/MM/yyyy'}}</td>
                  <td class="text-center">{{detail.createdBy}}{{detail.createdDate | date: 'dd/MM/yyyy'}}</td>
                </tr>
              </tbody>

            </table>
            <div class="row mt-2">
              <div class="col-md-12" style="text-align: end;">
                <pagination-controls class="pagi" (pageChange)="get((page = $event))">
                </pagination-controls>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- <div id="inBody" *ngIf="permissionsList.includes('View')" [dir]="direction">
  <div class="row">
    <div class="col-md-12">
      <div class="row">
        <div class="col-md-12">
          <div id="scrolTable" class="wmsDataTables">
            <table class="table table-striped" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger2">
              <thead>
                <tr>
                  <th scope="col">{{'Transaction ID' |translate}}</th>
                  <th scope="col">{{'Order Number' |translate}}</th>
                  <th scope="col">{{'Source Warehouse' |translate}}</th>
                  <th scope="col">{{'Product ID' |translate}}</th>
                  <th scope="col">{{'Product Name' |translate}}</th>
                  <th scope="col">{{'Product Specification' |translate}}</th>
                  <th scope="col">{{'Brand Name' |translate}}</th>
                  <th scope="col">{{'UOM' |translate}}</th>
                  <th scope="col">{{'Customer Order Quantity' |translate}}</th>
                  <th scope="col">{{'Dispatch Quantity' |translate}}</th>
                  <th scope="col">{{'Expected Delivery date' |translate}}</th>
                  <th scope="col">{{'Created By' |translate}}</th>
                </tr>

              </thead>
              <tbody>
                <tr *ngFor="let detail of wareHouseTransferResponceList; let i = index;">
                  <td>{{detail.fullWareHouseTransferTransactionID}}</td>
                  <td>{{detail.fullWmsoNumber}} </td>
                  <td>{{detail.sourceWareHouseInfo.wareHouseIDName}}</td>
                  <td>{{detail.productMasterInfo?.productID}}</td>
                  <td>{{detail.productMasterInfo?.productName}}</td>
                  <td>{{detail.productDescription}}</td>
                  <td>{{detail.brandName}}</td>
                  <td class="text-center">{{detail.shipmentUnit}}</td>
                  <td class="text-right">{{detail.customerOrderQuantity | decimalFilter}}</td>
                  <td class="text-right">{{detail.orderQuantity | decimalFilter}}</td>
                  <td class="text-center">{{detail.expectedDeliveryDate | date: 'dd/MM/yyyy'}}</td>
                  <td class="text-center">{{detail.createdBy}}{{detail.createdDate | date: 'dd/MM/yyyy'}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> -->


<app-delete-popup [getInfo]="deleteInfo" (sendConfirmation)="getConfirmation($event)"></app-delete-popup>