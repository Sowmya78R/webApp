<div id="inBody" [formGroup]="salesAnalyticsForm" [dir]="direction">
  <div class="row">
    <div class="col-md-12 mb-2">
      <div class="top-input-label">
        <div class="row">
          <div class="col-sm-3">
            <div class="form-group row">
              <label class="col-sm-5 col-form-label">{{'Select Type' |translate}}</label>
              <div class="col-sm-7">
                <select class="form-control" (change)="enableDate($event.target.value);
                OnDataChange();changeFunctionalityType($event.target.value)" formControlName="type">
                  <option [selected]="true">Last 3 Months</option>
                  <option value="Last 6 Weeks">Last 6 Weeks</option>
                  <option value="Last 3 Months">Last 3 Months</option>
                  <option value="Last 6 Months">Last 6 Months</option>
                  <option value="Last 12 Months">Last 12 Months</option>
                  <option value="Previous Month">Previous Month</option>
                  <option value="Current Month to Current Date">Current Month to Current Date</option>
                  <option value="Last Quarter">Last Quarter</option>
                  <option value="Financial Year to Date">Financial Year to Date</option>
                  <option value="Previous Financial Year">Previous Financial Year</option>
                  <option value="Custom Dates">Custom Dates</option>
                </select>
              </div>
            </div>
          </div>
          <div class="col-sm-3">
            <div class="form-group row">
              <label class="col-sm-6 col-form-label">{{'Type' |translate}}
              </label>
              <div class="col-sm-6">
                <select name="type" class="form-control" formControlName="functionalityType" id="type"
                  (change)="changeFunctionalityType($event.target.value)">
                  <option value="salesOrder" [selected]="true">Sales Order</option>
                  <option value="shipmentOrder">Shipment Order</option>
                </select>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="form-group row ">
              <label class="col-sm-4 col-form-label">{{'Order Type' |translate}}
              </label>
              <div class="col-sm-5">
                <select class="form-control extraLongWidth" [(ngModel)]="orderType" (change)="changeFunctionalityType()"
                  [ngModelOptions]="{standalone: true}">
                  <option>Sales Order</option>
                  <option>WarehouseTransfer</option>
                  <option>Purchase Returns </option>
                  <option>WarehouseTransfer Returns </option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-3">
            <div class="form-group row" *ngIf="showFields">
              <label class="col-sm-6 col-form-label">{{'From Date' |translate}}
              </label>
              <div class="col-sm-6">
                <input type="date" name="expectedDeliveryDateFrom" class="form-control" id="expectedDeliveryDateFrom"
                  formControlName="expectedDeliveryDateFrom" (change)="changeFunctionalityType($event.target.value)">
              </div>
            </div>
          </div>
          <div class="col-sm-3">
            <div class="form-group row" *ngIf="showFields">
              <label class="col-sm-6 col-form-label">{{'To Date' |translate}}
              </label>
              <div class="col-sm-6">
                <input type="date" name="" class="form-control" id="" formControlName="expectedDeliveryDateTo"
                  (change)="changeFunctionalityType($event.target.value)">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-4" *ngIf="permissionsList.includes('View')">
        <div class="wareHouseBG1 text-center">
          <div class="row">
            <div class="col-md-12 mt-4">
              <h6 class="text-center">{{salesOrdrWiseGraphName |translate}}</h6>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12 mt-1">
              <div class="text-right">
                <i class="fa fa-table fa-2x" (click)="openModalPopUp()" data-toggle="tooltip"
                  title="Download Table"></i>
              </div>
            </div>
          </div>
          <div id="chart" *ngIf="chartData">
            <canvas #myCanvas id="canvas" baseChart [chartType]="chartType" [datasets]="chartData"
              [labels]="chartLabels" [colors]="chartColors" [options]="chartOptions"></canvas>
          </div>
        </div>
      </div>
      <div class="col-md-4" *ngIf="regionWise.includes('View')">
        <div class="wareHouseBG1 text-center">
          <app-regionwise [dataToDisplay]="locationWiseResponseList"></app-regionwise>
        </div>
      </div>
      <div class="col-md-4" *ngIf="customerWise.includes('View')">
        <div class="wareHouseBG1 text-center">
          <app-customerwise [newValueToPass]="customerWiseResponseList"></app-customerwise>
        </div>
      </div>
      <div class="col-md-4" *ngIf="productWise.includes('View')">
        <div class="wareHouseBG1 text-center">
          <app-productwise [propertyFunction]="productWiseShipmentOrderPassingist"></app-productwise>
        </div>
      </div>
      <div class="col-md-4" *ngIf="categoryWise.includes('View')">
        <div class="wareHouseBG1 text-center">
          <app-categorywise [dataToBind]="categoryWiseShipmentOrderPassingist"></app-categorywise>
        </div>
      </div>
    </div>
  </div>
  <ngx-smart-modal customClass="nsm-centered" id="salesAnalytics" #salesAnalytics [identifier]="'salesAnalytics'">
    <div class="row">
      <div class="col-md-12">
        <div class="wmsDataTables w-100">
          <div class="row ">
            <div class="col-md-12">
              <div class="text-right">
                <i class="fa fa-download tableDownload" (click)="exportAsXLSX()"></i>
              </div>
            </div>
          </div>
          <table id="example" class="table table-striped" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
            <thead>
              <tr>
                <th scope="col">{{'Sr.No' |translate}}</th>
                <th scope="col">{{'Period' |translate}} </th>
                <th scope="col">{{'Quantity' |translate}}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of periodWiseSalesOrderList;let i= index">
                <td class="text-left">{{i+1}}</td>
                <td>{{data.period}}</td>
                <td>{{data.quantity | decimalwithThreeDigits}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </ngx-smart-modal>
