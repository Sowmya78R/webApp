<div id="inBody" [dir]="direction">
  <form [formGroup]="locationAvailbilityForm">
    <div class="row">
      <div class="col-md-12">
        <div class="row">
          <div class="col-md-9">
          </div>
          <div class="col-md-3">
            <div class="udcBtns float-right">
              <a>
                <button type="button"  (click)="exportAsXLSX()" title="Download Excel"
                  style="background: none !important;border: none !important;">
                  <img src="assets/Import.png" alt="" style="width: 25px;height: 23px;">
                </button>
              </a>
              <a>
                <button type="button" (click)="generatePDF()" title="Print PDF"
                  style="background: none !important;border: none !important;">
                  <img src="assets/printpdf.png" alt="" style="width: 33px;height: 30px;margin-right: 12px;">
                </button>
              </a>
              
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="panel portlet" style="margin-top: -10px;">
              <div class="formBox portlet-title">
                <div class="row">
                  <div class="panel-heading formTitle w-auto">
                    <h4>{{'Location Availbility' |translate}}</h4>
                    <div class="float-right"><span class="clickable"><i aria-hidden="true"
                          class="fa fa-angle-up"></i></span>
                      |
                      <i class="material-icons fullscreen"> unfold_less </i>
                    </div>
                  </div>
                  <div class="formTitleHover">
                    <h4>{{'Location Availbility' |translate}} <div class="float-right"><i
                          class="material-icons fullscreen">
                          close </i>
                      </div>
                    </h4>
                  </div>
                </div>
                <div class="panel-body">
                  <div class="row force-overflow">
                    <div class="col-md-4">
                      <div class="form-group row">
                        <label for="" class="col-sm-4">{{'Location Type' |translate}}<span class="red">*</span></label>
                        <div class="col-sm-5">
                          <select formControlName="locationType" class="form-control" 
                          (change)="getSelectedValue('locationTypes',$event)" style="width: 171px">
                            <option [ngValue]=null [selected]="true">Select</option>
                            <option value="Receive">Receive</option>
                            <option value="Return">Return</option>
                          </select>
                        </div>
                      </div>
                      <div class="form-group row">
                        <label class="col-sm-4 col-form-label">{{'Location' |translate}}</label>
                        <div class="col-sm-8">
                          <ng2-completer id="locationName" name="locationName"
                          formControlName="locationName" [datasource]="getLocationListIDs"
                          placeholder="{{'location' |translate}}"
                          [minSearchLength]="0" (selected)="getSelectedValue('locationNames',$event)">
                        </ng2-completer>
                        </div>
                      </div>
                     
                     
                    </div>
                    <div class="col-md-4">
                     
                      <div class="form-group row">
                        <label class="col-sm-4 col-form-label">{{'Zone' |translate}}</label>
                        <div class="col-sm-8">
                          <ng2-completer id="zoneNames" name="zoneNames"
                          formControlName="zoneName" [datasource]="getZoneListIDs"
                          placeholder="{{'zone' |translate}}"
                          [minSearchLength]="0" (selected)="getSelectedValue('zoneNames',$event)">
                        </ng2-completer>
                        </div>
                      </div>
                      <div class="form-group row">
                        <label class="col-sm-4 col-form-label">{{'Rack' |translate}}</label>
                        <div class="col-sm-8">
                          <ng2-completer id="rackNames" name="rackNames"
                          formControlName="rackName" [datasource]="getRackListIDs"
                          placeholder="{{'rack' |translate}}"
                          [minSearchLength]="0" (selected)="getSelectedValue('rackNames',$event)">
                        </ng2-completer>
                      
                        </div>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="form-group row">
                        <label class="col-sm-4 col-form-label">{{'Product' |translate}}</label>
                        <div class="col-sm-7">
                          <ng2-completer id="productIDName" name="productIDName"
                          formControlName="productIDName" [datasource]="productIDNameValues"
                          placeholder="{{'product' |translate}}"
                          [minSearchLength]="0" (selected)="getSelectedValue('productName',$event)">
                        </ng2-completer>
                        </div>
                      </div>
                      <div class="form-group row" *ngIf="locationAvailbilityForm.value.locationType === 'Receive'">
                        <label class="col-sm-4 col-form-label">{{'Suppiler' |translate}}
                        </label>
                        <div class="col-sm-7">
                          <ng2-completer id="supplierIDNames" name="supplierIDNames"
                          formControlName="supplierIDName" [datasource]="getSupplierListIDs"
                          placeholder="{{'supplier' |translate}}"
                          [minSearchLength]="0" (selected)="getSelectedValue('supplierName',$event)">
                        </ng2-completer>
                        </div>
                      </div>
                    
                     
                     
                      

                    </div>
                  </div>
                </div>
                <div class="row mt-2">
                  <div class="col-md-6">
                  </div>
                  <div class="col-md-6">
                    <div class="form-group row mt-1">
                      <label class="col-sm-8 col-form-label"> </label>
                      <div class="col-sm-4 text-right">
                        <button class="btn btn-green m-1" [disabled]="locationAvailbilityForm.invalid"(click)="filter()">{{'Generate' |translate}}</button>
                        <button class="btn btn-white" (click)="clear()">{{'CLEAR' |translate}}</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div id="scrolTable" class="wmsDataTables">
          <table id="example" class="table table-striped" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
            <thead>
              <tr>
                <th scope="col">{{'S.No' |translate}}</th>
                <th scope="col">{{'Zone Name' |translate}}</th>
                <th scope="col">{{'Rack Name' |translate}}</th>
                <th scope="col">{{'Column Name' |translate}}</th>
                <th scope="col">{{'Level Name' |translate}}</th>
                <th scope="col">{{'Location Name' |translate}}</th>
                <th scope="col">{{'Quantity' |translate}}</th>
                <th scope="col">{{'UOM' |translate}}</th>
                <th scope="col">{{'Usable Space' |translate}}</th>
                <th scope="col">{{'Usable Space Uom' |translate}}</th>
                <th scope="col">{{'Allowable Max Dimensions' |translate}}</th>
                <th scope="col">{{'Allowable Max Dimensions Uom' |translate}}</th>
                <th scope="col">{{'Allowable Weight' |translate}}</th>
                <th scope="col">{{'Allowable Weight Uom' |translate}}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of finalArray;let i = index">
                <td>{{i+1}}</td>
                <td>{{data.zoneInfo.zoneName}}</td>
                <td>{{data.rackInfo.rackName}}</td>
                <td>{{data.columnInfo.columnName}}</td>
                <td>{{data.levelInfo.levelName}}</td>
                <td>{{data.locationName}}</td>
                <td>{{data.allowableQuantity  | decimalwithThreeDigits}}</td>
                <td>{{data.inventoryUnit}}</td>
                <td>{{data.usableSpace | decimalwithThreeDigits}}</td>
                <td>{{data.usableSpaceUom}}</td>
                <td>{{data.allowableMaxDimension | decimalwithThreeDigits}}</td>
                <td>{{data.allowableMaxDimensionUom}}</td>
                <td>{{data.allowableWeight | decimalwithThreeDigits}}</td>
                <td>{{data.allowableWeightUom}}</td>
              </tr>
            </tbody>
          </table>
         
        </div>
      </div>
    </div>
  </form>
</div>
 
