<div id="inBody" [formGroup]="inventoryTransactionDetailsForm" class="hideFromPrinting" [dir]="direction">
  <div class="row">
    <div class="col-md-12">
      <div class="row">
        <div class="col-md-12">
          <div class="float-right">
            <div class="udcBtns">
              <a>
                <button type="button" (click)="getAllInventoryTransactionDetailsData()" title="Download Excel"
                  style="background: none !important;border: none !important;">
                  <img src="assets/Import.png" alt="" style="width: 25px;height: 23px;">
                </button>
              </a>
              <a>
                <button type="button" (click)="generatePDF()" title="Print PDF"
                  style="background: none !important;border: none !important;">
                  <img src="assets/printpdf.png" alt="" style="width: 33px;height: 30px;margin-right: 12px;">
                </button>
              </a>
              <!-- <ul>
                  <li (click)="exportAsXLSX()"><a> <i class="material-icons align-middle"> get_app </i>{{'Download Excel' |translate}}</a>
                  </li>
                  <li (click)="generatePDF()"><a> <i class="material-icons align-middle"> print </i>{{'Print PDF' |translate}}</a>
                  </li>
                </ul> -->
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="panel portlet" style="margin-top: -10px;">
            <div class="formBox portlet-title">
              <div class="row">
                <div class="panel-heading formTitle w-auto">
                  <h4>{{'INVENTORY BY TRANSACTION' |translate}}</h4>
                  <div class="float-right"><span class="clickable"><i aria-hidden="true"
                        class="fa fa-angle-up"></i></span>
                    |
                    <i class="material-icons fullscreen"> unfold_less </i>
                  </div>
                </div>
                <div class="formTitleHover">
                  <h4>{{'INVENTORY BY TRANSACTION' |translate}} <div class="float-right"><i
                        class="material-icons fullscreen"> close </i>
                    </div>
                  </h4>
                </div>
              </div>
              <div class="panel-body scrollbar" id="style-8">
                <div class="row force-overflow">
                  <div class="col-md-4">
                    <div class="form-group row">
                      <label class="col-sm-4 col-form-label">{{'Transaction Type' |translate}}</label>
                      <div class="col-sm-6">
                        <select name="" id="" class="form-control" formControlName="transactionType"
                        (change)="getOrderIDs()">
                          <option [ngValue]=null [selected]=true>--Select--</option>
                          <option value="GOODS RECEIVING">GOODS RECEIVING</option>
                          <option value="PURCHASE RETURN">PURCHASE RETURN</option>
                          <option value="SALES RETURN">SALES RETURN</option>
                          <option value="SALES ORDER">SALES ORDER</option>
                          <option value="WAREHOUSE TRANSFER">WAREHOUSE TRANSFER</option>
                          <option value="WAREHOUSE TRANSFER RETURN">WAREHOUSE TRANSFER RETURN</option>
                          <option value="Opening Inventory" >OPENING INVENTORY</option>
                          <option value="INVENTORY RECEIVING">INVENTORY RECEIVING</option>
                          <option value="INVENTORY ADJUSTMENT">INVENTORY ADJUSTMENT</option>
                          <option value="INTERNAL TRANSFER">INTERNAL TRANSFER</option>
                          <option value="WAREHOUSE TRANSFER REPLENISHMENT">WAREHOUSE TRANSFER REPLENISHMENT</option>
                          <option value="WAREHOUSE TRANSFER CROSS DOCKING">WAREHOUSE TRANSFER CROSS DOCKING</option>
                          <option value="CYCLE COUNTING">CYCLE COUNTING</option>
                          <option value="REPLENISHMENT">REPLENISHMENT</option>
                          <option value="CROSS DOCKING">CROSS DOCKING</option>
                          <option value="INVENTORY ISSUE REPLENISHMENT">INVENTORY ISSUE REPLENISHMENT</option>
                          <option value="INVENTORY ISSUE">INVENTORY ISSUE</option>
                        </select>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-sm-4 col-form-label">{{'Order ID' |translate}}</label>
                      <div class="col-sm-6">
                        <ejs-combobox #remote [dataSource]="purchaseIds" [fields]="fields"
                        (open)="onOpen($event,'dropdownObj')" [query]="query" [(ngModel)]='newReqObj.dummyorderID'
                        [allowFiltering]="true" (filtering)='onFiltering($event)'
                        (change)="accessOrderID($event)" [enablePersistence]="true"
                        [ngModelOptions]="{standalone: true}"></ejs-combobox>
                        <!-- <ng2-completer id="Order ID" name="Order ID" formControlName="orderID"
                          [datasource]="purchaseIds" 
                          [inputClass]="'form-control form-control-inline'"
                          [minSearchLength]="0" placeholder="{{'Order ID' |translate}}">
                        </ng2-completer> -->
                      </div>
                    </div>
                    <div class="form-group row"> 
                      <label class="col-sm-4 col-form-label">{{'Transaction From' |translate}}</label>
                      <div class="col-sm-6">
                        <input type="date" name="" class="form-control" id="" formControlName="transactionDateTimeFrom">
                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-sm-4 col-form-label">{{'Transaction To' |translate}}</label>
                      <div class="col-sm-6">
                        <input type="date" name="" class="form-control" id="" formControlName="transactionDateTimeTo">
                      </div>
                    </div>

                  
                  </div>
                  <div class="col-md-4">
                    <div class="form-group row">
                      <label class="col-sm-3 col-form-label">{{'Warehouse' |translate}}</label>
                      <div class="col-sm-8">
                        <ng-multiselect-dropdown [placeholder]="'Select'" [settings]="dropdownSettings"
                          [data]="wareHouseIDNamesList" formControlName="wareHouseIDNames">
                        </ng-multiselect-dropdown>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-sm-3 col-form-label">{{'Zone' |translate}}</label>
                      <div class="col-sm-8">
                        <ng-multiselect-dropdown [placeholder]="'Select'" [settings]="dropdownSettings"
                        [data]="zonesIDs" formControlName="zoneNames">
                      </ng-multiselect-dropdown>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-sm-3 col-form-label">{{'Rack' |translate}}</label>
                      <div class="col-sm-8">
                        <ng-multiselect-dropdown [placeholder]="'Select'" [settings]="dropdownSettings"
                        [data]="racksIDs" formControlName="rackNames">
                      </ng-multiselect-dropdown>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-sm-3 col-form-label">{{'Location' |translate}}</label>
                      <div class="col-sm-8">
                        <ng-multiselect-dropdown [placeholder]="'Select'" [settings]="dropdownSettings"
                        [data]="locationsIDs" formControlName="locationNames">
                      </ng-multiselect-dropdown>
                      </div>
                    </div>
                    
                  </div>
                  <div class="col-md-4">
                    <div class="form-group row">
                      <label class="col-sm-3 col-form-label">{{'Product' |translate}}</label>
                      <div class="col-sm-8">
                        <ng-multiselect-dropdown [placeholder]="'Select'" [settings]="dropdownSettings"
                        [data]="productIDs" formControlName="productIDNames">
                      </ng-multiselect-dropdown>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-sm-3 col-form-label">{{'Suppiler' |translate}}
                      </label>
                      <div class="col-sm-6">
                        <ng-multiselect-dropdown [placeholder]="'Select'" [settings]="dropdownSettings"
                        [data]="supplierIDNames" formControlName="supplierIDNames">
                      </ng-multiselect-dropdown>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-sm-3 col-form-label">{{'Customer' |translate}}</label>
                      <div class="col-sm-8">
                        <ng-multiselect-dropdown [placeholder]="'Select'" [settings]="dropdownSettings"
                        [data]="customersIDsList" formControlName="customerIDNames">
                      </ng-multiselect-dropdown>
                      </div>
                    </div>                   
                    <!--  <div class="form-group row text-center">
                      <label class="col-sm-3 col-form-label"></label>
                      <div class="col-sm-8">
                        <button class="btn btn-green mr-1"(click)="generate()">GENERATE</button>
                        <button class="btn btn-white"(click)="clear()">CLEAR </button>
                      </div>
                    </div> -->
                  </div>
                </div>
                <div class="row mt-2">
                  <div class="col-md-6">

                  </div>
                  <div class="col-md-6">
                    <div class="form-group row mt-1">
                      <label class="col-sm-8 col-form-label"> </label>
                      <div class="col-sm-4 text-right">
                        <!-- <button class="btn btn-green m-1" (click)="generate()">{{'GENERATE' |translate}}</button>
                        <button class="btn btn-white" (click)="clear()">{{'CLEAR' |translate}}</button> -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="text-right">
            <button class="btn btn-green m-1" (click)="generate()">{{'GENERATE' |translate}}</button>
                        <button class="btn btn-white" (click)="clear()">{{'CLEAR' |translate}}</button>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
            <div class="wmsDataTables">
                <div class="row">
                  <div class="col-md-0.5 pr-0">
                    <label class="mt-1">Show</label>
                  </div>
                    <div class="" style="top:-10px"><select [(ngModel)]="itemsPerPage"
                            (change)="fetchAllD(page=1,$event)" class="form-control shortWidth"
                            [ngModelOptions]="{standalone: true}">
                            <option>5</option>
                            <option>10</option>
                            <option>25</option>
                            <option>50</option>
                        </select></div>
                        <div class="col-md-1 mt-1"><label>Entries</label> 
                    </div>
                    <div class="col-md-9"></div>
                    <div class="col-md-1" style="left: -20px;">
                        <input type="text" [(ngModel)]="searchKey" placeholder="Search..."
                            [ngModelOptions]="{standalone: true}"
                            (keyup)="this.generate(page=1, itemsPerPage);">
                    </div>
                </div>
                <table class="table table-striped" style="overflow-y: auto;display: block;border-bottom: none;">
                    <thead>
                        <tr style="background-color:'blueviolet'">
                            <th *ngFor="let key of inventoryTrnsactionDetailsReport">{{key |translate}}<i class="fa fa-sort-asc"
                                    (click)="setDirection('ASC',key)" aria-hidden="true"></i> <i
                                    class="fa fa-sort-desc" aria-hidden="true"
                                    (click)="setDirection('DESC',key)"></i></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr
                            *ngFor="let i=index;let data of inventoryTransactionDetailsList | paginate: {itemsPerPage: itemsPerPage,currentPage: page,totalItems: totalItems}">
                            <td>{{((page-1) * itemsPerPage)+i+1}}</td>
                            <td>{{data.inventoryTransactionDetailsID}}</td>
                            <td>{{data.supplierMasterInfo?.supplierID}}</td>
                            <td>{{data.supplierMasterInfo?.supplierName}}</td>
                            <td>{{data.status}}</td>
                            <td class="text-center">{{data.transactionDateTime | date:'dd/MM/yyyy HH:mm:ss'}}</td>
                            <td>{{data.transactionType}}</td>
                            <td>{{data.orderID}}</td>
                            <td>{{data.lineNumber}}</td>
                            <td>{{data.productMasterInfo?.productID}}</td>
                            <td>{{data.productMasterInfo?.productName}}</td>
                            <td class="text-center">{{data.inventoryUnit}}</td>
                            <td>{{data.quantity | decimalwithThreeDigits}}</td>
                            <td class="text-center">{{data.expiryDate | date: 'dd/MM/yyyy'}}</td>
                            <td class="text-center">{{data.mfgDate | date: 'dd/MM/yyyy'}}</td>
                            <td>{{data.batchNumber}}</td>
                            <td>{{data.wareHouseInfo?.wareHouseIDName}}</td>
                            <td>{{data.zoneInfo?.zoneName}}</td>
                            <td>{{data.rackInfo?.rackName}}</td>
                            <td>{{data.columnInfo?.columnName}}</td>
                            <td>{{data.levelInfo?.levelName}}</td>
                            <td>{{data.locationInfo?.locationName}}</td>
                            <td>{{data.billOfEntryNumber}}</td>
                            <td>{{data.billOfEntryDate | date: 'dd/MM/yyyy'}}</td>
                            <td>{{data.invoiceNumber}}</td>
                            <td>{{data.invoiceDate | date: 'dd/MM/yyyy'}}</td>
                            <td>{{data.bondNumber}}</td>
                            <td>{{data.bondDate | date: 'dd/MM/yyyy'}}</td>
                            <td>{{data.exBondNumber}}</td>
                            <td>{{data.exBondDate | date: 'dd/MM/yyyy'}}</td>
                            <td>{{data.productCategoryInfo?.productCategoryName}}</td>
                        </tr>
                    </tbody>
                </table>
                <div class="row">
                  <div class="col-md-12" style="text-align: end;">
                    <pagination-controls class="pagi" (pageChange)="generate((page = $event))">
                    </pagination-controls>
                  </div>
                </div>
            </div>
            
        </div>
    </div>
     <!--  <div class="row">
        <div class="col-md-12">
            <div  class="wmsDataTables">
              <table class="table table-striped"
              datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" style="overflow-y: auto;display: block;border-bottom: none;">
                <thead>
                  <tr>
                    <th scope="col">{{'S.No' |translate}}</th>
                    <th scope="col">{{'Transaction Details ID' |translate}}</th>
                    <th scope="col">{{'Supplier ID' |translate}}</th>
                    <th scope="col">{{'Supplier Name' |translate}}</th>
                    <th scope="col">{{'Status' |translate}}</th>
                    <th scope="col">{{'Transaction Date & Time' |translate}}</th>
                    <th scope="col">{{'Transaction Type' |translate}}</th>
                    <th scope="col">{{'Order ID' |translate}}</th>
                    <th scope="col">{{'Line Number' |translate}}</th>
                    <th scope="col">{{'Product ID' |translate}}</th>
                    <th scope="col">{{'Product Name' |translate}}</th>
                    <th scope="col">{{'UOM' |translate}}</th>
                    <th scope="col">{{'Quantity' |translate}}</th>
                    <th scope="col">{{'Expiry Date' |translate}}</th>
                    <th scope="col">{{'Manufacturing Date' |translate}}</th>
                    <th scope="col">{{'Batch Number' |translate}}</th>
                    <th scope="col">{{'WareHouse ID/Name' |translate}}</th>
                    <th scope="col">{{'Zone Name' |translate}}</th>
                    <th scope="col">{{'Rack Name' |translate}}</th>
                    <th scope="col">{{'Column Name' |translate}}</th>
                    <th scope="col">{{'Level Name' |translate}}</th>
                    <th scope="col">{{'Location Name' |translate}}</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let data of inventoryTransactionDetailsList; let i = index;">
                    <td class="text-left">{{i+1}}</td>
                    <td>{{data.inventoryTransactionDetailsID}}</td>
                    <td>{{data.supplierMasterInfo?.supplierID}}</td>
                    <td>{{data.supplierMasterInfo?.supplierName}}</td>
                    <td>{{data.status}}</td>
                    <td class="text-center">{{data.transactionDateTime | date:'dd/MM/yyyy HH:mm:ss'}}</td>
                    <td>{{data.transactionType}}</td>
                    <td>{{data.orderID}}</td>
                    <td>{{data.lineNumber}}</td>
                    <td>{{data.productMasterInfo?.productID}}</td>
                    <td>{{data.productMasterInfo?.productName}}</td>
                    <td class="text-center">{{data.inventoryUnit}}</td>
                    <td>{{data.quantity}}</td>
                    <td class="text-center">{{data.expiryDate | date: 'dd/MM/yyyy'}}</td>
                    <td class="text-center">{{data.mfgDate | date: 'dd/MM/yyyy'}}</td>
                    <td>{{data.batchNumber}}</td>
                    <td>{{data.wareHouseInfo?.wareHouseIDName}}</td>
                    <td>{{data.zoneInfo?.zoneName}}</td>
                    <td>{{data.rackInfo?.rackName}}</td>
                    <td>{{data.columnInfo?.columnName}}</td>
                    <td>{{data.levelInfo?.levelName}}</td>
                    <td>{{data.locationInfo?.locationName}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
        </div>
      </div> -->
    </div>
  </div>
</div>
